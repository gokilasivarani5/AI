<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Virtual AI Assistant</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="styles.css">

<style>
/* ===== Custom Scrollbar ===== */
::-webkit-scrollbar{width:8px;}
::-webkit-scrollbar-track{background:#0b1220;}
::-webkit-scrollbar-thumb{background:#3b82f6;border-radius:10px;}
::-webkit-scrollbar-thumb:hover{background:#60a5fa;}
</style>

</head>

<body class="bg-gradient-to-br from-gray-900 via-black to-blue-950 text-white min-h-screen">

<!-- ================= FULL PAGE ================= -->
<div class="w-full h-screen flex flex-col">

  <!-- ================= HEADER ================= -->
  <div class="flex items-center justify-between px-6 py-4 border-b border-gray-700 bg-gray-900/90">
    <h1 class="text-2xl font-bold">Virtual AI Assistant</h1>

    <!-- Profile -->
    <div class="relative">
      <button id="profileBtn"
        class="w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center text-lg font-bold">
        U
      </button>

      <div id="profileMenu"
        class="hidden absolute right-0 mt-2 bg-gray-800 border border-gray-700 rounded-xl shadow-xl w-48">
        
        <div class="px-4 py-2 border-b border-gray-700 text-sm">
          <span id="userName">User</span><br>
          <small id="userEmail" class="text-gray-400"></small>
        </div>

        <button class="w-full text-left px-4 py-2 hover:bg-gray-700">Settings</button>
        <button class="w-full text-left px-4 py-2 hover:bg-gray-700">Logout</button>
      </div>
    </div>
  </div>

  <!-- ================= BODY ================= -->
  <div class="flex flex-1 overflow-hidden">

    <!-- ================= SIDEBAR (FULL SCROLL) ================= -->
    <div class="w-72 border-r border-gray-700 p-4 flex flex-col bg-gray-900/70 overflow-y-auto">

      <button class="w-full bg-blue-600 hover:bg-blue-500 py-2 rounded-xl font-semibold">
        + New Chat
      </button>

      <input 
        class="mt-3 px-3 py-2 rounded-xl bg-gray-800 text-white border border-gray-700 focus:outline-none focus:border-blue-500"
        placeholder="Search Chat" />

      <h3 class="mt-4 mb-2 font-semibold">History</h3>

      <div class="flex-1 bg-gray-800/60 rounded-xl p-3 overflow-y-auto">
        <p class="text-gray-400 text-sm">No chats yet...</p>
      </div>

    </div>

    <!-- ================= CHAT AREA ================= -->
    <div class="flex-1 flex flex-col bg-[#0b1220]/80">

      <!-- Messages scroll -->
      <div id="chatArea" class="flex-1 overflow-y-auto p-6 space-y-4">
        <div class="bg-gray-800 inline-block px-4 py-2 rounded-xl">
          ðŸ‘‹ Hello! How can I help you?
        </div>
      </div>

      <!-- ================= INPUT BAR ================= -->
      <div class="p-4 border-t border-gray-700 flex items-center gap-3 bg-gray-900/90">

        <!-- IMAGE ICON -->
        <button class="w-10 h-10 flex items-center justify-center rounded-xl
                       bg-gray-800 border border-gray-700 hover:bg-gray-700 transition">

          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-300"
          fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M4 5h16a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V7a2 2 0 012-2z"/>
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M8.5 11.5l2.5 3 3.5-4.5 4.5 6H5z"/>
          </svg>

        </button>

        <!-- MIC ICON -->
    <!-- MIC ICON -->
<button class="icon-btn">
  <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22"
  fill="none" stroke="white" stroke-width="2"
  stroke-linecap="round" stroke-linejoin="round">
    <path d="M12 1a3 3 0 0 0-3 3v6a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/>
    <path d="M19 10a7 7 0 0 1-14 0"/>
    <line x1="12" y1="17" x2="12" y2="23"/>
    <line x1="8" y1="23" x2="16" y2="23"/>
  </svg>
</button>


        <!-- TEXT INPUT -->
        <textarea
          id="messageInput"
          placeholder="Type a message..."
          class="flex-1 px-4 py-2 rounded-xl bg-gray-800 text-white border border-gray-700
                 focus:outline-none focus:border-blue-500 resize-none"
          rows="1"></textarea>

        <!-- SEND -->
        <button class="bg-blue-600 hover:bg-blue-500 px-6 py-2 rounded-xl font-semibold">
          Send â†’
        </button>

      </div>
    </div>

  </div>
</div>

<script>
/* ========= Load Logged User ========= */
const user = JSON.parse(localStorage.getItem("loggedUser")) || null;

if (user) {
  document.getElementById("userEmail").innerText = user.email;
  document.getElementById("userName").innerText = user.name || "User";
  document.getElementById("profileBtn").innerText = user.email.charAt(0).toUpperCase();
}

/* ========= Profile Menu ========= */
const profileBtn = document.getElementById("profileBtn");
const profileMenu = document.getElementById("profileMenu");

profileBtn.addEventListener("click", () => {
  profileMenu.classList.toggle("hidden");
});

/* Close menu on outside click */
document.addEventListener("click", (e) => {
  if (!profileBtn.contains(e.target) && !profileMenu.contains(e.target)) {
    profileMenu.classList.add("hidden");
  }
});
</script>

</body>
</html>
